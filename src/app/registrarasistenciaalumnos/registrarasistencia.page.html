<ion-app>
  <ion-header>
    <ion-toolbar style="background-color: black;">
      <ion-title style="color: white;">Registrar Asistencia</ion-title>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="menuprincipal" style="--color: white;"></ion-back-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content class="ion-padding">
    <ion-card class="scanner-card">
      <ion-card-title>Bienvenido, {{ userName }}</ion-card-title>
      <ion-card-header>
        <ion-card-title style="color: white; text-align: center;">Escanea el Código QR</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div class="scanner-container">
          <!-- Esquinas decorativas para el marco del escáner QR -->
          <div class="corner top-left"></div>
          <div class="corner top-right"></div>
          <div class="corner bottom-left"></div>
          <div class="corner bottom-right"></div>
          
          <!-- Escáner QR -->
          <zxing-scanner (scanSuccess)="onScanSuccess($event)" class="scanner"></zxing-scanner>
        </div>
      </ion-card-content>
    </ion-card>


    <ion-card class="manual-registration-card">
      <ion-card-header>
        <ion-card-title style="color: white; text-align: center;">Registro Manual de Asistencia</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <form (ngSubmit)="registrarAsistenciaManual()">
          <ion-item>
            <ion-label position="floating" style="color: white;">Asignatura</ion-label>
            <ion-select [(ngModel)]="asignaturaId" name="asignaturaId" required>
              <ion-select-option *ngFor="let asignatura of asignaturas" [value]="asignatura.id">
                {{ asignatura.nombre }}
              </ion-select-option>
            </ion-select>
          </ion-item>
          <ion-button expand="full" type="submit" style="margin-top: 10px;">Registrar Asistencia</ion-button>
        </form>
      </ion-card-content>
    </ion-card>
  </ion-content>
</ion-app>
